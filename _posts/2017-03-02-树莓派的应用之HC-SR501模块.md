---
layout:		post
title:	"树莓派的应用之HC-SR501红外探测模块"
date:	2017-3-2 20:07:03  +0800
categories: jekyll update
subtitle:	"红外探测单元的使用"
author:		"Les1ie"
header-img: "img/HC-SR501/HC-SR501-back-pic.png"
header-mask: 0.3
---
## 0x00 
下面介绍人体感应模块 **HC-SR501**。

其中 PDF 版本的详细说明参考 [在这里](https://www.mpja.com/download/31227sc.pdf)， 本文参考于 [arduino](http://www.arduino.cn/thread-2851-1-1.html)

## 0x01
触发方式有两种， **L**是指一次触发之后就保持高电平到一个周期末，然后停止。；**H**是指一次触发之后就保持高电平，如果人还在感应范围内就保持高电平不变化直到人离开感应范围。更改触发方式通过修改跳线的连接来实现。
PS:感应的时候输出高电平。

上面有两个旋钮可以调节触发的灵敏度和触发的探测距离，距离在 **7m**以内。
在输出高电平之后会有**0.2s**的封锁时间，不响应探测。

## 0x02
Python 驱动树莓派工作：
- 树莓派的GPIO口的编号有两种方式，一种是按照从左到右，从上到下。开始的第一个引脚叫做 `pin 1`，最后一个叫做 `pin 40`。 这种编号方式叫做 **BCM**, 另外一种方 式是按照每个引脚的功能来的，叫做**BOARD**。
- 在代码开始前需要通过 `GPIO.setmode(GPIO.BCM)`来声明你是怎样使用它的引脚的。我偏向于**BCM**这种方式，因为简单粗暴。
- 如果GPIO在另外一个脚本里面使用了，那么他会出警告，我们可以设置一下`GPIO.setwarings(False)`来禁用他。
- 我们 需要制定用到的每一个引脚的功能，酱紫 `GPIO.setup(17, GPIO.IN)`, 其中17是引脚的BCM编号，或者酱紫 `GPIO.setup(17, GPIO.OUT, initial=GPIO.HIGH)`，其中最后的**initial=GPIO.HIGH**缺省，用来指定引脚的初始的电平。
- 读取引脚的状态可以 `GPIO.input(17)`， 返回值是 `0,1,GPIO.LOW, GPIO.HIGH, True, False`
- 设置引脚的输出状态可以酱紫 `GPIO.output(17,GPIO.HIGH)`.
- 脚本结束后务必清理一下GPIO的状态为输入，避免短路`GPIO.cleanup()`




